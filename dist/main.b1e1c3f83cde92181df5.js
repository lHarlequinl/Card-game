!function(){"use strict";function t(a){if(null==a||!1===a)return document.createTextNode("");if("string"==typeof a||"number"==typeof a||!0===typeof a)return document.createTextNode(a);if(Array.isArray(a)){const i=document.createDocumentFragment();return a.forEach((a=>{i.appendChild(t(a))})),i}const i=document.createElement(a.tag);return a.cls&&i.classList.add(...[].concat(a.cls)),a.attrs&&Object.keys(a.attrs).forEach((t=>{i.setAttribute(t,a.attrs[t])})),a.list&&a.list.forEach((t=>{const a=document.createElement("li");a.textContent=t,i.appendChild(a),console.log(a)})),a.text&&(i.textContent=a.text),i.appendChild(t(a.content)),i}const a=[{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"6C",width:"95",src:"./static/img/cards/6C.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"6C",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"6D",width:"95",src:"./static/img/cards/6D.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"6D",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"6H",width:"95",src:"./static/img/cards/6H.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"6H",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"6S",width:"95",src:"./static/img/cards/6S.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"6S",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"7C",width:"95",src:"./static/img/cards/7C.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"7C",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"7D",width:"95",src:"./static/img/cards/7D.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"7D",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"7H",width:"95",src:"./static/img/cards/7H.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"7H",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"7S",width:"95",src:"./static/img/cards/7S.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"7S",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"8C",width:"95",src:"./static/img/cards/8C.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"8C",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"8D",width:"95",src:"./static/img/cards/8D.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"8D",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"8H",width:"95",src:"./static/img/cards/8H.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"8H",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"8S",width:"95",src:"./static/img/cards/8S.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"8S",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"9C",width:"95",src:"./static/img/cards/9C.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"9C",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"9D",width:"95",src:"./static/img/cards/9D.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"9D",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"9H",width:"95",src:"./static/img/cards/9H.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"9H",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"9S",width:"95",src:"./static/img/cards/9S.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"9S",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"AC",width:"95",src:"./static/img/cards/AC.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"AC",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"AD",width:"95",src:"./static/img/cards/AD.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"AD",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"AH",width:"95",src:"./static/img/cards/AH.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"AH",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"AS",width:"95",src:"./static/img/cards/AS.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"AS",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"JC",width:"95",src:"./static/img/cards/JC.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"JC",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"JD",width:"95",src:"./static/img/cards/JD.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"JD",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"JH",width:"95",src:"./static/img/cards/JH.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"JH",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"JS",width:"95",src:"./static/img/cards/JS.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"JS",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"KC",width:"95",src:"./static/img/cards/KC.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"KC",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"KD",width:"95",src:"./static/img/cards/KD.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"KD",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"KH",width:"95",src:"./static/img/cards/KH.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"KH",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"KS",width:"95",src:"./static/img/cards/KS.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"KS",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"QC",width:"95",src:"./static/img/cards/QC.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"QC",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"QD",width:"95",src:"./static/img/cards/QD.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"QD",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"QH",width:"95",src:"./static/img/cards/QH.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"QH",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"QS",width:"95",src:"./static/img/cards/QS.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"QS",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"TC",width:"95",src:"./static/img/cards/TC.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"TC",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"TD",width:"95",src:"./static/img/cards/TD.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"TD",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"TH",width:"95",src:"./static/img/cards/TH.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"TH",width:"95",src:"./static/img/cards/shirt.svg"}}]},{tag:"div",cls:"card__item",content:[{tag:"img",cls:"card__item-front",attrs:{"data-id":"TS",width:"95",src:"./static/img/cards/TS.svg"}},{tag:"img",cls:["card__item-back","card__item-flip"],attrs:{"data-id":"TS",width:"95",src:"./static/img/cards/shirt.svg"}}]}];let i=0;const c=[];function s(){document.querySelectorAll(".card__item-back").forEach((t=>{t.classList.remove("card__item-flip"),t.addEventListener("click",(a=>{a.preventDefault();const{target:s}=a;t.classList.add("card__item-flip"),s.getAttribute("data-id"),window.app.cards.push(s.dataset.id),c.push(s.dataset.id),i++,function(){const[t,a]=c;i>=2&&t!==a&&(window.app.renderScreen("loseWindow"),c.length=0,i=0),2===i&&t===a&&(c.length=0,i=0),window.app.cards.length===2*window.app.levels[window.app.userLevel]&&(window.app.renderScreen("winWindow"),c.length=0,i=0)}()}))}))}function d(t){for(let a=t.length-1;a>0;a--){let i=Math.floor(Math.random()*(a+1));[t[a],t[i]]=[t[i],t[a]]}return t}window.app={blocks:{},screens:{},timers:[],renderScreen:t=>{e[t]||console.log("Такого экрана нет!"),window.app.timers.length>0&&(window.app.timers.forEach((t=>clearInterval(t))),window.app.timers=[]),window.app.mainNode.replaceChildren(),e[t]()},renderBlock:(t,a)=>{r[t]||console.log("Такого блока нет!"),r[t](a)},mainNode:document.querySelector(".game"),userLevel:"0",levels:[3,6,12],cards:[]};const r=window.app.blocks,e=window.app.screens;e.startScreen=function(){window.app.mainNode.appendChild(t({tag:"div",cls:["level__wrapper","window__wrapper"],content:[{tag:"h2",cls:["level__title","window__title"],text:"Выбери сложность"}]}));const a=document.querySelector(".level__wrapper");window.app.renderBlock("levelNumber",a),window.app.renderBlock("startBtn",a)},r.startBtn=function(a){a.appendChild(t({tag:"button",cls:["level__button","button"],text:"Старт"})),document.querySelector(".level__button").addEventListener("click",(t=>{t.preventDefault(),window.app.userLevel?window.app.renderScreen("gameScreen"):console.log("Выбирете сложность!")}))},r.levelNumber=function(a){a.appendChild(t({tag:"div",cls:"level__number-wrapper",content:[{tag:"button",cls:"level__number-item",text:"1",attrs:{"data-id":"0"}},{tag:"button",cls:"level__number-item",text:"2",attrs:{"data-id":"1"}},{tag:"button",cls:"level__number-item",text:"3",attrs:{"data-id":"2"}}]})),document.querySelector(".level__number-wrapper").addEventListener("click",(t=>{t.preventDefault();const{target:a}=t,i=a.getAttribute("data-id");window.app.userLevel=i}))},e.gameScreen=function(){window.app.mainNode.appendChild(t({tag:"div",cls:"game__screen",content:[{tag:"div",cls:"game__screen-header",content:[{tag:"div",cls:"game__screen-timer",content:[{tag:"div",cls:"timer__titles",content:[{tag:"div",cls:"timer__title",text:"min"},{tag:"div",cls:"timer__title",text:"sec"}]},{tag:"div",cls:"timer__degits",text:"00:00"}]}]},{tag:"section",cls:"game__screen-cards"}]}));const a=document.querySelector(".game__screen"),i=document.querySelector(".game__screen-header");i.appendChild(t({tag:"button",cls:["game__button","button"],text:"Начать заново"})),window.app.renderBlock("newGame",i),window.app.renderBlock("cards",a)},e.loseWindow=function(){window.app.mainNode.appendChild(t({tag:"div",cls:["window__lose","window__wrapper"],content:[{tag:"img",cls:"window__lose-image",attrs:{alt:"win",width:"90",src:"./static/img/icons/lose.png"}},{tag:"h2",cls:["window__lose-title","window__title"],text:"Вы проиграли!"},{tag:"p",cls:["window__lose-subtitle","window-subtitle"],text:"Затраченное время:"},{tag:"p",cls:["window__lose-time","window-time"],text:`${window.app.timers}`},{tag:"button",cls:["window__button","button"],text:"Играть снова"}]})),window.app.renderBlock("newGame")},e.winWindow=function(){window.app.mainNode.appendChild(t({tag:"div",cls:["window__win","window__wrapper"],content:[{tag:"img",cls:"window__win-image",attrs:{alt:"win",width:"96",src:"./static/img/icons/win.png"}},{tag:"h2",cls:["window__win-title","window__title"],text:"Вы выиграли!"},{tag:"p",cls:["window__win-subtitle","window-subtitle"],text:"Затраченное время:"},{tag:"p",cls:["window__win-time","window-time"],text:`${window.app.timers}`},{tag:"button",cls:["window__button","button"],text:"Играть снова"}]})),window.app.renderBlock("newGame")},r.newGame=function(){document.querySelector(".button").addEventListener("click",(t=>{t.preventDefault(),window.app.cards=[],window.app.renderScreen("startScreen")}))},r.cards=function(){!function(){const t=document.querySelector(".timer__degits");let a=0;setTimeout((()=>{setInterval((()=>{a+=1e3;let i=new Date(a);t.innerHTML=("0"+i.getUTCMinutes()).slice(-2)+":"+("0"+i.getUTCSeconds()).slice(-2)}),1e3),s()}),5e3)}();let i=a;const c=window.app.levels[window.app.userLevel];let r=d(i);r=r.slice(0,c),r.push(...r),r=d(r);const e=document.querySelector(".game__screen-cards");r.forEach((a=>{e.appendChild(t(a))}))},r.clickHandler=s,window.app.renderScreen("startScreen")}();